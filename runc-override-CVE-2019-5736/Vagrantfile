# -*- mode: ruby -*-dirty-cow
# vi: set ft=ruby :


$script = <<-SCRIPT
cat /commonShare/get-docker.sh | sed 's/docker-ce/docker-ce=18.03.1~ce-0~ubuntu/' | sh
usermod -aG docker vagrant
SCRIPT
# cp /vagrant/runc /usr/sbin/docker-runc

Vagrant.configure("2") do |config|


    # Every Vagrant development environment requires a box. You can search for
    # boxes at https://vagrantcloud.com/search.
    config.vm.box = "ubuntu/xenial64"
    config.vm.hostname = "runc-machine"

    # Share an additional folder to the guest VM. The first argument is
    # the path on the host to the actual folder. The second argument is
    # the path on the guest to mount the folder. And the optional third
    # argument is a set of non-required options.
    config.vm.synced_folder "../commonShare", "/commonShare"

    config.vm.provision "shell", inline: $script
    config.vm.provision :reload
end
